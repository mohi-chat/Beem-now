(this["webpackJsonpbeem-now"]=this["webpackJsonpbeem-now"]||[]).push([[0],{153:function(e,t,a){e.exports=a.p+"static/media/background_large.9c234bd0.jpg"},154:function(e,t,a){e.exports=a.p+"static/media/background_small.e0b5af09.jpg"},161:function(e,t,a){e.exports=a.p+"static/media/home.2a10aed3.svg"},162:function(e,t,a){e.exports=a.p+"static/media/profile.63698463.svg"},163:function(e,t,a){e.exports=a.p+"static/media/ridepost.b10129fd.svg"},164:function(e,t,a){e.exports=a.p+"static/media/history.5ea1f63b.svg"},165:function(e,t,a){e.exports=a.p+"static/media/message.bd3b3a49.svg"},166:function(e,t,a){e.exports=a.p+"static/media/signout.4f8b303c.svg"},171:function(e,t,a){e.exports=a.p+"static/media/404.d79c25ab.png"},188:function(e,t,a){e.exports=a(237)},193:function(e,t,a){},194:function(e,t,a){},195:function(e,t,a){e.exports=a.p+"static/media/background_medium.f960915a.jpg"},20:function(e,t,a){e.exports=a.p+"static/media/logo.8ebd8ad5.png"},201:function(e,t,a){e.exports=a.p+"static/media/background.65091e7f.jpg"},234:function(e,t){},237:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(13),i=a.n(o),c=(a(193),a(194),a(5)),l=a(284),s=a(238),m=a(34),u=a(46),d=a(283),p=(a(281),a(286)),g=(a(282),a(239)),b=a(153),f=a.n(b),h=(a(195),a(154)),E=a.n(h),y=a(66),v=Object(u.a)((function(e){return{root:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2)},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},desktopImage:{marginTop:e.spacing(6),backgroundImage:"url(".concat(f.a,")"),backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"cover",height:"450px"},mobileImage:{marginTop:e.spacing(6),backgroundImage:"url(".concat(E.a,")"),backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"cover",height:"118px"},marginText:{float:"right",alignText:"center",height:"100%",marginRight:"5%",fontFamily:"Quicksand",right:0,top:0}}}));function x(e){var t=v(),a=Object(n.useState)(!1),o=Object(c.a)(a,2),i=o[0],u=o[1],b=Object(n.useState)(!(null===localStorage.getItem("uid"))),f=Object(c.a)(b,2),h=f[0];f[1];console.log(localStorage.getItem("uid"));var E=window.innerWidth>1e3;return r.a.createElement("div",null,h?r.a.createElement(y.a,{to:"/home"}):null,r.a.createElement(r.a.Fragment,null,i?r.a.createElement(y.a,{to:"/signin"}):null,r.a.createElement(d.a,null),r.a.createElement(l.a,null,r.a.createElement(s.a,null,r.a.createElement(m.a,{variant:"h6",className:t.title},"Beem Now"),r.a.createElement(g.a,{color:"inherit",onClick:function(e){u(!0)}},"Sign in"))),r.a.createElement("div",{className:E?t.desktopImage:t.mobileImage},r.a.createElement("div",{className:t.marginText},r.a.createElement("p",{style:{marginTop:E?"100%":"50%",fontSize:E?30:12}},r.a.createElement("br",null),"Rides,",r.a.createElement("br",null),"For the students,",r.a.createElement("br",null),"By the students."))),r.a.createElement(m.a,{style:{marginTop:"2%",textAlign:"center",fontSize:30,fontFamily:"Quicksand"}},"Rides made easy and profitable !"),r.a.createElement(p.a,null,r.a.createElement("p",null," Need to be somewhere? Beem-Now has got you covered ! With our app, now search for rides offered by fellow students going to same destination. This service is exclusively for students. Our platform ensures value for money rides. Some descriptive text. Some descriptive text. Some descriptive text. Some descriptive text. Some descriptive text. Some descriptive text. Some descriptive text. Some descriptive text. Some descriptive text. Some descriptive text. Some descriptive text. Some descriptive text. Some descriptive text. Some descriptive text. Some descriptive text. Some descriptive text."),r.a.createElement("p",null," Heading out somewhere? With our platform make extra money on the side by giving ride to a fellow student, delivering small items or packages to or from those locations. Just post your travel details and number of people/packages you can take with you. User searching for a ride or item delivery to your destination will get in touch with you. Some descriptive text. Some descriptive text. Some descriptive text. Some descriptive text. Some descriptive text. Some descriptive text. Some descriptive text. Some descriptive text. Some descriptive text. Some descriptive text. Some descriptive text. Some descriptive text."))))}var S=a(176),j=a(287),O=a(292),w=a(16),C=(a(200),a(20)),T=a.n(C);a(201);function N(){return r.a.createElement(m.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(j.a,{color:"inherit",href:"/"},"Beem Now")," ",(new Date).getFullYear(),".")}w.b.configure({autoClose:8e3,draggable:!1,hideProgressBar:!0});var D=Object(u.a)((function(e){return{"@global":{body:{backgroundColor:e.palette.common.white}},paper:{backgroundColor:e.palette.common.white,marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},logo:{textAlign:"center",marginBottom:e.spacing(3)},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function k(e){var t=D(),a=Object(n.useState)(!(null===localStorage.getItem("uid"))),o=Object(c.a)(a,2),i=o[0],l=o[1],s=Object(n.useState)(!!e.location.state&&e.location.state.accountCreated),u=Object(c.a)(s,2),b=(u[0],u[1],Object(n.useState)(e.location.state?e.location.state.signUpSucess:"")),f=Object(c.a)(b,2),h=f[0];f[1];Object(n.useEffect)((function(){if(console.log("log in notify"),console.log(h),h.mailSent){var e="A confirmation email has been sent to "+h.email+". Please confirm before you login.";E(e)}}),[]);var E=function(e){Object(w.b)(e)};return r.a.createElement("div",null,i?r.a.createElement(y.a,{to:"/home"}):null,r.a.createElement(w.a,null),r.a.createElement(p.a,{component:"main",maxWidth:"xs"},r.a.createElement(d.a,null),r.a.createElement("div",{className:t.paper},r.a.createElement("div",{className:t.logo},r.a.createElement("img",{src:T.a})),r.a.createElement(m.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:t.form,onSubmit:function(e){e.preventDefault();var t=new FormData(e.target),a={email:t.get("email"),password:t.get("password")};fetch("/users/login",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(e){console.log(e),0==e.error_code?(console.log(e.user),localStorage.setItem("user",e.user),localStorage.setItem("uid",e.user._id),localStorage.setItem("first_name",e.user.first_name),localStorage.setItem("last_name",e.user.last_name),l(!0)):E(e.msg)})).catch((function(e){console.log(e),E(e.msg)}))},noValidate:!0},r.a.createElement(S.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0}),r.a.createElement(S.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),r.a.createElement(g.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",backgroundColor:"#62c9f2",className:t.submit},"Sign In"),r.a.createElement(O.a,{container:!0},r.a.createElement(O.a,{item:!0,xs:!0},r.a.createElement(j.a,{href:"/forgotpassword",variant:"body2"},"Forgot password?")),r.a.createElement(O.a,{item:!0},r.a.createElement(j.a,{href:"/signup",variant:"body2"},"Don't have an account? Sign Up"))))),r.a.createElement("div",{style:{marginTop:"10%",marginBottom:"10%"}},r.a.createElement(N,null))))}var P=a(294),I=a(315),A=a(311),R=a(293);function B(){return r.a.createElement(m.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(j.a,{color:"inherit",href:"/"},"Beem Now")," ",(new Date).getFullYear(),".")}var F=[{value:"Male",label:"Male"},{value:"Female",label:"Female"},{value:"Other",label:"Prefer not to disclose"}],W=Object(u.a)((function(e){return{"@global":{body:{backgroundColor:e.palette.common.white}},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},logo:{textAlign:"center",marginBottom:e.spacing(1)},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));function _(){var e=W(),t=Object(n.useState)(!1),a=Object(c.a)(t,2),o=a[0],i=a[1],l=Object(n.useState)(""),s=Object(c.a)(l,2),u=s[0],b=s[1],f=Object(n.useState)(""),h=Object(c.a)(f,2),E=h[0],v=h[1],x=Object(n.useState)(""),C=Object(c.a)(x,2),N=C[0],D=C[1],k=Object(n.useState)(""),_=Object(c.a)(k,2),M=_[0],q=_[1],J=Object(n.useState)(""),Y=Object(c.a)(J,2),L=Y[0],Z=Y[1],H=Object(n.useState)(""),$=Object(c.a)(H,2),G=$[0],U=$[1],z=Object(n.useState)(""),V=Object(c.a)(z,2),Q=V[0],K=V[1],X=Object(n.useState)(""),ee=Object(c.a)(X,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(""),re=Object(c.a)(ne,2),oe=re[0],ie=re[1],ce=Object(n.useState)(!1),le=Object(c.a)(ce,2),se=le[0],me=le[1],ue=Object(n.useState)(""),de=Object(c.a)(ue,2),pe=de[0],ge=de[1],be=function(e){var t=e.target.name,a=e.target.value;"firstName"===t?D(""===a?"First Name is required":""):"lastName"===t?q(""===a?"Last Name is required":""):"gender"===t&&Z(""===a?"Please make a selection":"")},fe=function(e){Object(w.b)(e)};return r.a.createElement("div",null,o?r.a.createElement(y.a,{to:{pathname:"/resendToken",state:{accountCreated:{accountCreated:o},signUpSucess:{signUpSucess:u},email:{email:pe}}}}):null,r.a.createElement(w.a,null),r.a.createElement(p.a,{component:"main",maxWidth:"xs"},r.a.createElement(d.a,null),r.a.createElement("div",{className:e.paper},r.a.createElement("div",{className:e.logo},r.a.createElement("img",{src:T.a})),r.a.createElement(m.a,{component:"h1",variant:"h5"},"Sign up"),r.a.createElement("form",{className:e.form,onSubmit:function(e){e.preventDefault();var t=new FormData(e.target);if(function(e){var t=!0;return""===e.get("firstName")&&(D("First name is required"),t=!1),""===e.get("lastName")&&(q("Last name is required"),t=!1),""===e.get("gender")&&(Z("Please make a selection"),t=!1),""!==G&&(t=!1),""===e.get("email")&&(U("University email is required"),t=!1),""===e.get("password")&&(K("Password is required"),t=!1),e.get("confirmPassword")!==e.get("password")&&(ie("Passwords do not match"),t=!1),se||(ae("You must agree to our terms of service."),t=!1),t}(t)){var a={first_name:t.get("firstName"),last_name:t.get("lastName"),email:t.get("email"),password:t.get("password"),gender:t.get("gender")};fetch("/users/signup",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(e){0==e.error_code?(console.log(e),console.log(e.email),ge(e.email),b(e),i(!0)):fe(e.msg)})).catch((function(e){fe("unable to create a new account. Please try again later."),console.log(e)}))}},noValidate:!0},r.a.createElement(O.a,{container:!0,spacing:2},r.a.createElement(O.a,{item:!0,xs:12,sm:6},r.a.createElement(S.a,{autoComplete:"fname",error:""!==N,name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",helperText:N,autoFocus:!0,onChange:be})),r.a.createElement(O.a,{item:!0,xs:12,sm:6},r.a.createElement(S.a,{error:""!==M,variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",helperText:M,autoComplete:"lname",onChange:be})),r.a.createElement(O.a,{item:!0,xs:12},r.a.createElement(S.a,{variant:"outlined",error:""!==L,onChange:be,select:!0,required:!0,fullWidth:!0,id:"gender",label:"Gender",name:"gender",autoComplete:"email",helperText:L,SelectProps:{MenuProps:{className:e.menu}}},F.map((function(e){return r.a.createElement(R.a,{key:e.value,value:e.value},e.label)})))),r.a.createElement(O.a,{item:!0,xs:12},r.a.createElement(S.a,{error:""!==G,variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"University Email",name:"email",autoComplete:"email",helperText:G,onChange:function(e){console.log("password");e.target.name,e.target.value;if(""===e.target.value)U("University Email Required");else{var t=e.target.value,a=/^[a-zA-Z0-9/_/g\.]+@tamu\.edu$/.test(t);U(a?"":"Please enter a valid tamu email.")}}})),r.a.createElement(O.a,{item:!0,xs:12},r.a.createElement(S.a,{error:""!==Q,variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",helperText:Q,onChange:function(e){e.target.name;var t=e.target.value;if(v(t),""===e.target.value)K("Password Required");else{var a=e.target.value,n=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d@$!%*#?&]{8,32}$/.test(a);K(n?"":"Password shoud contain a digit,small letter,capital letter and must be between 8 to 32 characters")}}})),r.a.createElement(O.a,{item:!0,xs:12},r.a.createElement(S.a,{error:""!==oe,variant:"outlined",required:!0,fullWidth:!0,name:"confirmPassword",label:"Confirm Password",type:"password",id:"confirm-password",autoComplete:"confirm-password",helperText:oe,onChange:function(e){e.target.name,e.target.value;var t=e.target.value;ie(t===E?"":"Passwords do not match")}})),r.a.createElement(O.a,{item:!0,xs:12},r.a.createElement(P.a,{style:{marginRight:"5px"},control:r.a.createElement(I.a,{name:"agreeToTermsOfUse",color:"primary",onChange:function(e){"agreeToTermsOfUse"===e.target.name&&(me(!se),ae(""))}}),label:"I have read and agree to the "}),r.a.createElement(j.a,{href:"/termsofservice",variant:"body1",underline:"always",target:"_blank"},"Terms of service"),"*",r.a.createElement(m.a,{variant:"body2",color:"error"},te))),r.a.createElement(g.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},"Sign Up"),r.a.createElement(O.a,{container:!0,justify:"flex-end"},r.a.createElement(O.a,{item:!0},r.a.createElement(j.a,{href:"/signin",variant:"body2"},"Sign in"))))),r.a.createElement(A.a,{mt:5},r.a.createElement(B,null))))}function M(){return r.a.createElement(m.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(j.a,{color:"inherit",href:"/"},"Beem Now")," ",(new Date).getFullYear(),".")}var q=Object(u.a)((function(e){return{"@global":{body:{backgroundColor:e.palette.common.white}},centerAlign:{display:"flex",flexDirection:"column",alignItems:"center"},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},logo:{textAlign:"center",marginBottom:e.spacing(3)},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function J(e){var t=q(),a=Object(n.useState)(""),o=Object(c.a)(a,2),i=(o[0],o[1],Object(n.useState)(!!e.location.state&&e.location.state.accountCreated)),l=Object(c.a)(i,2),s=(l[0],l[1],Object(n.useState)(e.location.state?e.location.state.signUpSucess:"")),u=Object(c.a)(s,2),b=u[0],f=(u[1],Object(n.useState)(e.location.state?e.location.state.email:"")),h=Object(c.a)(f,2),E=h[0],y=(h[1],function(e){Object(w.b)(e)});Object(n.useEffect)((function(){console.log("in resend token"),console.log(b),console.log(E.email)}),[]);return r.a.createElement("div",null,r.a.createElement(w.a,null),r.a.createElement(p.a,{component:"main",maxWidth:"xs"},r.a.createElement(d.a,null),r.a.createElement("div",{className:t.paper},r.a.createElement("div",{className:t.logo},r.a.createElement("img",{src:T.a})),r.a.createElement("form",{className:t.form,onSubmit:function(e){e.preventDefault(),console.log("resend token"),fetch("/users/resendToken?email="+E.email).then((function(e){return e.json()})).then((function(e){console.log(e),y("Email sent to "+E.email+" with a new confirmation link.")})).catch((function(){y("Could not send an email. Please try again")}))}},r.a.createElement(m.a,{component:"h1",variant:"h5",align:"center"},"Please go to your email and confirm you account. You can sign in once you do that."),r.a.createElement(m.a,{variant:"body2",align:"center",style:{marginTop:"40px"}},"If your token has expired. click on the button below to resend a new confirmation email."),r.a.createElement(g.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit},"Resend Token"),r.a.createElement(O.a,{container:!0},r.a.createElement(O.a,{item:!0,xs:12},r.a.createElement(j.a,{href:"/signin",variant:"body2",className:t.centerAlign},"Go back to sign in page"))))),r.a.createElement(A.a,{mt:8},r.a.createElement(M,null))))}var Y=a(123),L=a(4),Z=a(28),H=a(318),$=a(291),G=a(296),U=a(124),z=a(120),V=a.n(z),Q=a(167),K=a.n(Q),X=a(168),ee=a.n(X),te=a(240),ae=a(297),ne=a(299),re=a(161),oe=a.n(re),ie=a(162),ce=a.n(ie),le=a(163),se=a.n(le),me=a(164),ue=a.n(me),de=a(165),pe=a.n(de),ge=a(166),be=a.n(ge),fe=a(298),he=a(14),Ee=Object(u.a)((function(e){return{root:{display:"flex"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(240,"px)"),marginLeft:240,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:e.spacing(2)},hide:{display:"none"},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerHeader:{display:"flex",alignItems:"center",padding:e.spacing(0,1),marginTop:e.spacing(1),marginBottom:e.spacing(1),justifyContent:"flex-end"},drawerFooter:{position:"absolute",bottom:"0",right:"0",left:"0"},content:{flexGrow:1,padding:e.spacing(0),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-240},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0},inline:{display:"inline"}}}));function ye(e){return r.a.createElement(te.a,Object.assign({button:!0,component:"a"},e))}function ve(e){var t=Ee(),a=Object(Z.a)(),o=r.a.useState(!1),i=Object(c.a)(o,2),u=i[0],p=i[1],g=Object(n.useState)([]),b=Object(c.a)(g,2),f=b[0],h=b[1],E=Object(n.useState)([]),v=Object(c.a)(E,2),x=v[0],S=v[1],j=Object(n.useState)(!1),O=Object(c.a)(j,2),w=O[0],C=O[1],T=null,N=function(){p(!1)};return T=w?r.a.createElement(y.a,{to:{pathname:"/ridehistory",state:{driverRides:f,passengerRides:x}}}):null,r.a.createElement("div",{className:t.root},T,r.a.createElement(d.a,null),r.a.createElement(l.a,{position:"fixed",className:Object(L.a)(t.appBar,Object(Y.a)({},t.appBarShift,u))},r.a.createElement(s.a,null,r.a.createElement(U.a,{color:"inherit","aria-label":"open drawer",onClick:function(){p(!0)},edge:"start",className:Object(L.a)(t.menuButton,u&&t.hide)},r.a.createElement(V.a,null)),r.a.createElement(m.a,{variant:"h6",noWrap:!0},"Beem Now"))),r.a.createElement(H.a,{className:t.drawer,variant:"persistent",anchor:"left",open:u,classes:{paper:t.drawerPaper}},r.a.createElement("div",{className:t.drawerHeader},r.a.createElement(U.a,{onClick:N},"ltr"===a.direction?r.a.createElement(K.a,null):r.a.createElement(ee.a,null))),r.a.createElement(G.a,null),r.a.createElement($.a,{component:"nav"},r.a.createElement(ye,{key:"Home",href:"#",onClick:N},r.a.createElement(ae.a,null,r.a.createElement(fe.a,null,r.a.createElement("img",{src:oe.a}))),r.a.createElement(ne.a,{primary:"Home"})),r.a.createElement(ye,{key:"profile",href:"#profile",onClick:N},r.a.createElement(ae.a,null,r.a.createElement(fe.a,null,r.a.createElement("img",{src:ce.a}))),r.a.createElement(ne.a,{primary:"My Profile"})),r.a.createElement(ye,{key:"postride",href:"#postride",onClick:N},r.a.createElement(ae.a,null,r.a.createElement(fe.a,null,r.a.createElement("img",{src:se.a}))),r.a.createElement(ne.a,{primary:"Post a Ride"})),r.a.createElement(te.a,{button:!0,key:"ridehistory",onClick:function(){C(!1);var e={user_id:localStorage.getItem("uid")};fetch("/rides/rideHistory",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){if(console.log(e),0==e.error_code){var t,a;try{t=JSON.parse(e.driver_rides),a=JSON.parse(e.passenger_rides)}catch(n){console.error(n)}h(t),S(a),C(!0)}})).catch((function(e){console.log(e)})),N()}},r.a.createElement(ae.a,null,r.a.createElement(fe.a,null,r.a.createElement("img",{src:ue.a}))),r.a.createElement(ne.a,{primary:"Ride History"})),r.a.createElement(te.a,{button:!0,key:"Messages",onClick:N,component:he.c,to:{pathname:"/friendList",state:{name:localStorage.getItem("first_name")}}},r.a.createElement(ae.a,null,r.a.createElement("img",{src:pe.a})),r.a.createElement(ne.a,{primary:"Messages"})),r.a.createElement(te.a,{button:!0,key:"Sign Out",component:"a",href:"/",onClick:function(){console.log("clearing local storage"),localStorage.clear()}},r.a.createElement(ae.a,null,r.a.createElement(fe.a,null,r.a.createElement("img",{src:be.a}))),r.a.createElement(ne.a,{primary:"Sign Out"}))),r.a.createElement(G.a,null),r.a.createElement("div",{className:t.drawerFooter},r.a.createElement($.a,null,r.a.createElement(ye,{key:"Terms of service",href:"/termsofservice",target:"_blank",style:{textAlign:"center"}},r.a.createElement(ne.a,{primary:r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{component:"span",variant:"body2",className:t.inline,color:"textPrimary"},r.a.createElement(A.a,{fontStyle:"italic",m:1},"Terms of service")))}))))),r.a.createElement("main",{className:Object(L.a)(t.content,Object(Y.a)({},t.contentShift,u))},r.a.createElement("div",{className:t.drawerHeader})))}var xe=a(22),Se=a(300),je=a(319),Oe=a(88),we=a(301),Ce=a(242),Te=Object(u.a)((function(e){return{"@global":{body:{backgroundColor:e.palette.common.white}},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function Ne(){var e=Te(),t=Object(n.useState)(!1),a=Object(c.a)(t,2),o=a[0],i=a[1],l=Object(n.useState)(new Date),s=Object(c.a)(l,2),u=s[0],b=s[1],f=Object(n.useState)(new Date),h=Object(c.a)(f,2),E=h[0],v=h[1],x=Object(n.useState)("2019-01-01T00:00:00.000Z"),j=Object(c.a)(x,2),C=j[0],T=j[1],N=Object(n.useState)("2019-01-01T00:00:00.000Z"),D=Object(c.a)(N,2),k=D[0],I=D[1],A=Object(n.useState)(""),R=Object(c.a)(A,2),B=R[0],F=R[1],W=Object(n.useState)(""),_=Object(c.a)(W,2),M=_[0],q=_[1],J=Object(n.useState)(""),Y=Object(c.a)(J,2),L=Y[0],Z=Y[1],H=Object(n.useState)(""),$=Object(c.a)(H,2),G=$[0],U=$[1],z=Object(n.useState)(!1),V=Object(c.a)(z,2),Q=V[0],K=V[1],X=Object(n.useState)(!1),ee=Object(c.a)(X,2),te=(ee[0],ee[1]),ae=function(e){var t=e.target.name,a=e.target.value;"originCity"===t?F(""===a?"First name is required":""):"destinationCity"===t?q(""===a?"Last Name is required":""):"maxCapacity"===t?""===a?U("Enter capacity of your ride"):isNaN(a)||parseInt(a)<=0?U("Capacity should be a positive number"):U(""):"pricePerSeat"===t&&(""===a||"0"===a?Z("Do you want to give free ride?"):isNaN(a)||parseInt(a)<0?Z("Price should be a positive number"):Z(""))},ne=Object(n.useState)(!1),re=Object(c.a)(ne,2),oe=(re[0],re[1],Object(n.useState)()),ie=Object(c.a)(oe,2);ie[0],ie[1];return r.a.createElement("div",null,o?r.a.createElement(y.a,{to:{pathname:"/",state:{postSuccess:!0}}}):null,r.a.createElement(w.a,null),r.a.createElement(p.a,{component:"main",maxWidth:"xs"},r.a.createElement(d.a,null),r.a.createElement("div",{className:e.paper},r.a.createElement(m.a,{component:"h1",variant:"h5"},"Post Ride"),r.a.createElement("form",{className:e.form,onSubmit:function(e){e.preventDefault();var t=localStorage.getItem("uid");console.log(t);var a=new FormData(e.target);if(function(e){var t=!0;return""!==B||""!==M||""!==L||""!==G?t=!1:(""===e.get("originCity")&&(F("Origin city is required"),t=!1),""===e.get("destinationCity")&&(q("Destination city is required"),t=!1),""===e.get("pricePerSeat")&&(Z("Do you want to give free ride?"),t=!1),""===e.get("maxCapacity")&&(U("Ride capacity is required"),t=!1),t)}(a)){var n={uid:t,originCity:a.get("originCity"),destinationCity:a.get("destinationCity"),pricePerSeat:a.get("pricePerSeat"),departDate:a.get("departDate"),roundTrip:!!a.get("roundTrip"),maxCapacity:a.get("maxCapacity"),occupiedCapacity:a.get("maxCapacity"),departTime:a.get("departTime"),timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone};a.get("roundTrip")&&(n.returnDate=a.get("returnDate"),n.returnTime=a.get("returnTime")),fetch("/rides/createRide",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){console.log(e),e.rideStatus?(r("Ride Posted Successfully."),te(!0),i(!0)):(i(!1),r("There is some error. Please try again later."))})).catch((function(e){i(!1),console.log(e.msg),r("There is some error. Please try again later.")}));var r=function(e){Object(w.b)(e)}}},noValidate:!0},r.a.createElement(S.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"originCity",label:"From",type:"from",id:"password",autoComplete:"current-password",error:""!=B,helperText:B,onChange:ae}),r.a.createElement(S.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"To",label:"To",name:"destinationCity",autoComplete:"email",autoFocus:!0,error:""!=M,helperText:M,onChange:ae}),r.a.createElement(S.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"capacity",label:"Max Capacity",name:"maxCapacity",autoFocus:!0,error:""!=G,helperText:G,onChange:ae}),r.a.createElement(S.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"amount",label:"Amount/seat",name:"pricePerSeat",type:"number",autoComplete:"$",autoFocus:!0,InputProps:{startAdornment:r.a.createElement(Ce.a,{position:"start"},"$"),inputProps:{min:0,max:200}},error:""!=L,helperText:L,onChange:ae}),r.a.createElement(xe.a,{utils:Oe.a},r.a.createElement(O.a,{container:!0,spacing:2},r.a.createElement(O.a,{item:!0,xs:6},r.a.createElement(Se.a,{margin:"normal",clearable:!0,required:!0,disablePast:!0,inputVariant:"outlined",label:"Depart Date",name:"departDate",value:u,onChange:function(e){return b(e)},minDate:new Date,format:"MM/dd/yyyy",autoFocus:!0})),r.a.createElement(O.a,{item:!0,xs:6},r.a.createElement(je.a,{margin:"normal",clearable:!0,required:!0,ampm:!0,inputVariant:"outlined",label:"Depart Time",name:"departTime",value:C,onChange:T,autoFocus:!0})))),r.a.createElement(P.a,{control:r.a.createElement(we.a,{checked:Q,onChange:function(){K((function(e){return!e}))},value:Q,color:"primary",name:"roundTrip"}),label:"Make This a Round Trip",labelPlacement:"start",name:"roundTrip"}),r.a.createElement(xe.a,{utils:Oe.a},r.a.createElement(O.a,{container:!0,spacing:2},r.a.createElement(O.a,{item:!0,xs:6},r.a.createElement(Se.a,{margin:"normal",clearable:!0,disabled:!Q,disablePast:!0,inputVariant:"outlined",label:"Return Date",name:"returnDate",value:E,onChange:function(e){return v(e)},minDate:Q?u:null,minDateMessage:"Return Date should be after Depart Date",format:"MM/dd/yyyy",autoFocus:!0})),r.a.createElement(O.a,{item:!0,xs:6},r.a.createElement(je.a,{margin:"normal",clearable:!0,disabled:!Q,ampm:!0,inputVariant:"outlined",label:"Return Time",name:"returnTime",value:k,onChange:I,autoFocus:!0})))),r.a.createElement(g.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},"Post")))))}var De=a(321),ke=a(290),Pe=a(313),Ie=Object(u.a)((function(e){return{"@global":{body:{backgroundColor:e.palette.common.white}},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}})),Ae=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"],Re=function(e){Object(w.b)(e)};function Be(e){var t=Ie(),a=Object(n.useState)(!1),o=Object(c.a)(a,2),i=o[0],l=o[1],s=Object(n.useState)(new Date),u=Object(c.a)(s,2),b=u[0],f=u[1],h=Object(n.useState)(new Date),E=Object(c.a)(h,2),v=E[0],x=E[1],j=Object(n.useState)("2019-01-01T00:00:00.000Z"),C=Object(c.a)(j,2),N=(C[0],C[1],Object(n.useState)("")),D=Object(c.a)(N,2),k=D[0],I=D[1],A=Object(n.useState)([]),B=Object(c.a)(A,2),F=B[0],W=B[1],_=Object(n.useState)(""),M=Object(c.a)(_,2),q=M[0],J=M[1],Y=Object(n.useState)(""),L=Object(c.a)(Y,2),Z=L[0],H=L[1],$=Object(n.useState)(!1),G=Object(c.a)($,2),U=G[0],z=G[1],V=Object(n.useState)(!1),Q=Object(c.a)(V,2),K=Q[0],X=Q[1],ee=Object(n.useState)(1),te=Object(c.a)(ee,2),ae=te[0],ne=te[1],re=(r.a.useRef(null),r.a.useState(0)),oe=Object(c.a)(re,2),ie=(oe[0],oe[1],Object(n.useState)("")),ce=Object(c.a)(ie,2),le=ce[0],se=ce[1],me=Object(n.useState)(""),ue=Object(c.a)(me,2),de=ue[0],pe=ue[1],ge=Object(n.useState)(!!e.location.state&&e.location.state.postSuccess),be=Object(c.a)(ge,2),fe=be[0];be[1];Object(n.useEffect)((function(){console.log("in component did mount"),fe&&Re("Your ride was posted Successfully")}));var he=function(e){var t=e.target.name,a=e.target.value;"originCity"===t?se(""===a?"First name is required":""):"destinationCity"===t&&pe(""===a?"Last Name is required":"")},Ee=Object(n.useState)(!1),ye=Object(c.a)(Ee,2),ve=(ye[0],ye[1],Object(n.useState)()),je=Object(c.a)(ve,2);je[0],je[1];return r.a.createElement("div",null,i?r.a.createElement(y.a,{to:{pathname:"/departresults",state:{roundTrip:U,departure_rides:F,originCity:q,destinationCity:Z,dates:k,returnDate:v,seats:ae}}}):null,r.a.createElement(w.a,null),r.a.createElement(p.a,{component:"main",maxWidth:"xs"},r.a.createElement(d.a,null),r.a.createElement("div",{className:t.paper},r.a.createElement("div",{className:t.logo},r.a.createElement("img",{src:T.a})),r.a.createElement(m.a,{component:"h1",variant:"h5"},"Search Ride"),r.a.createElement("form",{className:t.form,onSubmit:function(e){e.preventDefault();var t=new FormData(e.target),a=localStorage.getItem("uid");console.log(a),console.log(ae);var n=function(e){var t=!0;return""!==le||""!==de?t=!1:(""===e.get("originCity")&&(se("Origin city is required"),t=!1),""===e.get("destinationCity")&&(pe("Destination city is required"),t=!1),t)}(t),r={uid:a,roundTrip:!1,originCity:t.get("originCity"),destinationCity:t.get("destinationCity"),departDate:t.get("departDate"),selectedDepartTime:null,timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone,seats:t.get("seats")};J(t.get("originCity")),H(t.get("destinationCity")),I(function(e){for(var t=new Date,a=new Date(e.getTime()+1296e6),n=new Array,r=t;r<=a;){var o=new Date(r),i=String(o.getMonth()+1)+"/"+String(o.getDate())+"/"+String(o.getYear()+1900);n.push([String(o.getDate())+" "+Ae[o.getMonth()],i]),r=r.addDays(1)}return n}(b)),z(t.get("roundTrip")),n&&fetch("/rides/searchRide",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(r)}).then((function(e){return e.json()})).then((function(e){if(0==e.error_code){var t,a;try{t=JSON.parse(e.departure_rides),a=JSON.parse(e.return_rides),console.log(t),console.log(a)}catch(n){console.error(n)}W(t),setReturnRides(a),l(!0)}})).catch((function(e){console.log("in error"),console.log(e)}))},noValidate:!0},r.a.createElement(S.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"originCity",label:"From",type:"from",id:"password",autoComplete:"current-password",error:""!=le,helperText:le,onChange:he}),r.a.createElement(S.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"To",label:"To",name:"destinationCity",autoComplete:"email",autoFocus:!0,error:""!=de,helperText:de,onChange:he}),r.a.createElement(O.a,{container:!0,spacing:2},r.a.createElement(O.a,{item:!0,xs:6},r.a.createElement(P.a,{control:r.a.createElement(we.a,{checked:K,onChange:function(){X((function(e){return!e}))},value:K,color:"primary"}),name:"roundTrip",label:"Round Trip",labelPlacement:"start"})),r.a.createElement(O.a,{item:!0,xs:6},r.a.createElement(ke.a,{variant:"outlined",className:t.formControl},r.a.createElement(De.a,{id:"seat_select"},"seats"),r.a.createElement(Pe.a,{name:"seats",labelId:"seat_select",id:"seats",value:ae,onChange:function(e){ne(e.target.value)}},r.a.createElement(R.a,{value:1},"1"),r.a.createElement(R.a,{value:2},"2"),r.a.createElement(R.a,{value:3},"3"),r.a.createElement(R.a,{value:4},"4"),r.a.createElement(R.a,{value:5},"5"),r.a.createElement(R.a,{value:6},"6"))))),r.a.createElement(xe.a,{utils:Oe.a},r.a.createElement(O.a,{container:!0,spacing:2},r.a.createElement(O.a,{item:!0,xs:6},r.a.createElement(Se.a,{margin:"normal",clearable:!0,required:!0,disablePast:!0,inputVariant:"outlined",name:"departDate",label:"Travel Date",value:b,onChange:function(e){return f(e)},minDate:new Date,format:"MM/dd/yyyy",autoFocus:!0})),r.a.createElement(O.a,{item:!0,xs:6},r.a.createElement(Se.a,{margin:"normal",clearable:!0,disabled:!K,disablePast:!0,inputVariant:"outlined",name:"returnDate",label:"Return Date",value:v,onChange:function(e){return x(e)},minDate:K?b:null,minDateMessage:"Return Date should be after Depart Date",format:"MM/dd/yyyy",autoFocus:!0})))),r.a.createElement(g.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit},"Search")))))}Date.prototype.addDays=function(e){var t=new Date(this.valueOf());return t.setDate(t.getDate()+e),t},console.log(Intl.DateTimeFormat().resolvedOptions().timeZone);var Fe=a(80),We=a(172),_e=a(302),Me=a(312),qe=a(303),Je=a(304),Ye=a(305),Le=a(108);function Ze(e){var t=e.children,a=e.value,n=e.index,o=Object(Fe.a)(e,["children","value","index"]);return r.a.createElement(m.a,Object.assign({component:"div",role:"tabpanel",hidden:a!==n,id:"scrollable-auto-tabpanel-".concat(n),"aria-labelledby":"scrollable-auto-tab-".concat(n)},o),r.a.createElement(A.a,{p:3},t))}var He=Object(u.a)((function(e){return{root:{flexGrow:1,width:"100%",backgroundColor:e.palette.background.paper},inline:{display:"inline"},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},card:{backgroundColor:e.palette.common.white,boxShadow:"0 1px 6px rgba(0, 0, 0, 0.12), 0 1px 4px rgba(0, 0, 0, 0.24)",borderRadius:"15px",marginBottom:e.spacing(2)},avatarBlock:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},avatar:{marginBottom:e.spacing(1),backgroundColor:Le.a[400]}}})),$e=Object(We.a)({typography:{h5:{fontWeight:500}}}),Ge=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"];function Ue(e){var t=He(),a=Object(n.useState)(e.location.state.departure_rides),o=Object(c.a)(a,2),i=o[0],s=o[1],u=Object(n.useState)(""),g=Object(c.a)(u,2),b=g[0],f=g[1],h=Object(n.useState)(e.location.state.originCity),E=Object(c.a)(h,2),v=E[0],x=(E[1],Object(n.useState)(e.location.state.destinationCity)),S=Object(c.a)(x,2),j=S[0],O=(S[1],Object(n.useState)(e.location.state.returnDate)),w=Object(c.a)(O,2),C=w[0];w[1];console.log(C);var T=Object(n.useState)(e.location.state.roundTrip),N=Object(c.a)(T,2),D=N[0],k=(N[1],Object(n.useState)([])),P=Object(c.a)(k,2),I=P[0],A=P[1],R=Object(n.useState)(!1),B=Object(c.a)(R,2),F=B[0],W=B[1],_=Object(n.useState)(""),M=Object(c.a)(_,2),q=M[0],J=M[1],Y=Object(n.useState)(e.location.state.dates),L=Object(c.a)(Y,2),Z=L[0],H=(L[1],Object(n.useState)(Z.length-15)),G=Object(c.a)(H,2),U=G[0],z=G[1],V=Object(n.useState)(e.location.state.seats),Q=Object(c.a)(V,2),K=Q[0],X=(Q[1],function(e){J(e);var t=new Date(Z[U][1]);console.log(t);var a=new Date(C.getTime());console.log(a),console.log(t,a),t>a&&(a=t.addDays(1),console.log(a)),A(function(e,t){for(var a=new Date(e.getTime()+1296e6),n=new Array,r=t;r<=a;){var o=new Date(r),i=String(o.getMonth()+1)+"/"+String(o.getDate())+"/"+String(o.getYear()+1900);n.push([String(o.getDate())+" "+Ge[o.getMonth()],i]),r=r.addDays(1)}return n}(a,t)),console.log(I.length),a=String(a.getMonth()+1)+"/"+String(a.getDate())+"/"+String(a.getYear()+1900);var n={uid:localStorage.getItem("uid"),originCity:j,destinationCity:v,departDate:a,roundTrip:!1,selectedDepartTime:e.departDate,timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone,seats:K};fetch("/rides/searchRide",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){if(0==e.error_code){var t;try{t=JSON.parse(e.departure_rides),console.log(t)}catch(a){console.error(a)}console.log(t),f(t),W(!0)}})).catch((function(e){console.log(e)}))});return r.a.createElement(p.a,{component:"main",maxWidth:"md"},r.a.createElement(d.a,null),r.a.createElement("div",{className:t.paper},r.a.createElement(_e.a,{theme:$e},r.a.createElement("div",{style:{marginBottom:"3%"}},r.a.createElement(m.a,{variant:"h5",color:"primary"},"Departure"))),r.a.createElement(l.a,{position:"Static",color:"default"},r.a.createElement(Me.a,{value:U,onChange:function(e,t){z(t);var a={uid:localStorage.getItem("uid"),originCity:v,destinationCity:j,departDate:Z[t][1],selectedDepartTime:null,roundTrip:!1,timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone,seats:K};fetch("/rides/searchRide",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(e){if(0==e.error_code){var t;try{t=JSON.parse(e.departure_rides),console.log(t)}catch(a){console.error(a)}console.log(t),s(t),console.log("HEY",i)}})).catch((function(e){console.log(e)}))},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"auto","aria-label":"scrollable auto tabs example"},Z.map((function(e,t){return r.a.createElement(qe.a,Object.assign({label:e[0]},function(e){return{id:"scrollable-auto-tab-".concat(e),"aria-controls":"scrollable-auto-tabpanel-".concat(e)}}(t)))})))),r.a.createElement("div",{style:{width:"100%"}},Z.map((function(e,a){return r.a.createElement(Ze,{value:U,index:a},r.a.createElement("div",null,0!=i.length?r.a.createElement("div",null,F?D?r.a.createElement(y.a,{to:{pathname:"/returnresults",state:{roundTrip:D,selectedDepartRide:q,seats:K,returnRides:b,originCity:v,destinationCity:j,dates:I}}}):r.a.createElement(y.a,{to:{pathname:"/ridesummary",state:{roundTrip:D,selectedDepartRide:q,seats:K,selectedReturnRide:null}}}):null,r.a.createElement(p.a,{component:"main",maxWidth:"md",style:{padding:"0 0 0 0"}},r.a.createElement(d.a,null),r.a.createElement($.a,null,i.map((function(e){return r.a.createElement("div",{className:t.card},r.a.createElement(te.a,{button:!0,key:e._id,alignItems:"flex-start"},r.a.createElement(Je.a,{className:t.avatarBlock},r.a.createElement(Ye.a,{alt:"No Image",src:e.avatar,className:t.avatar},e.host.first_name[0]),r.a.createElement(m.a,{variant:"body1",color:"textSecondary"},e.host.first_name)),r.a.createElement(p.a,{maxWidth:"md"},r.a.createElement(ne.a,{key:e._id,onClick:function(){return X(e)}},r.a.createElement(m.a,{variant:"body1",color:"textSecondary"},"\u29bf ",e.originCity),r.a.createElement(m.a,{variant:"body1",color:"textSecondary"},r.a.createElement("span",null,"\xa0"),"|"),r.a.createElement(m.a,{variant:"body1",color:"textSecondary"},"\u29bf ",e.destinationCity),r.a.createElement(m.a,{variant:"body1",color:"textSecondary"},"Seats Left : ",e.maxCapacity),r.a.createElement(m.a,{variant:"subtitle2",align:"justify",color:"textSecondary"},function(e){var t=e.split("T")[1].split(":"),a=parseInt(t[0])<12?"AM":"PM",n=new Date(e);return n.getDate()+" "+Ge[n.getMonth()]+" \u2022 "+t[0]+":"+t[1]+" "+a}(e.departDate)),r.a.createElement(m.a,{variant:"h6",align:"right"},e.pricePerSeat,"$")))))}))))):r.a.createElement(m.a,{variant:"h3",color:"textSecondary",align:"center"},"No rides found")))})))))}function ze(e){var t=e.children,a=e.value,n=e.index,o=Object(Fe.a)(e,["children","value","index"]);return r.a.createElement(m.a,Object.assign({component:"div",role:"tabpanel",hidden:a!==n,id:"scrollable-auto-tabpanel-".concat(n),"aria-labelledby":"scrollable-auto-tab-".concat(n)},o),r.a.createElement(A.a,{p:3},t))}Date.prototype.addDays=function(e){var t=new Date(this.valueOf());return t.setDate(t.getDate()+e),t};var Ve=Object(u.a)((function(e){return{root:{flexGrow:1,width:"100%",backgroundColor:e.palette.background.paper},inline:{display:"inline"},avatarBlock:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},avatar:{marginBottom:e.spacing(1),backgroundColor:Le.a[400]},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},card:{backgroundColor:e.palette.common.white,boxShadow:"0 1px 6px rgba(0, 0, 0, 0.12), 0 1px 4px rgba(0, 0, 0, 0.24)",borderRadius:"15px",marginBottom:e.spacing(2)}}})),Qe=Object(We.a)({typography:{h5:{fontWeight:500}}});function Ke(e){var t=Ve(),a=Object(n.useState)(e.location.state.returnRides),o=Object(c.a)(a,2),i=o[0],s=o[1],u=Object(n.useState)(e.location.state.originCity),g=Object(c.a)(u,2),b=g[0],f=(g[1],Object(n.useState)(e.location.state.destinationCity)),h=Object(c.a)(f,2),E=h[0],v=(h[1],Object(n.useState)(e.location.state.dates)),x=Object(c.a)(v,2),S=x[0],j=(x[1],Object(n.useState)(e.location.state.roundTrip)),O=Object(c.a)(j,2),w=O[0],C=(O[1],Object(n.useState)(e.location.state.departId)),T=Object(c.a)(C,2),N=T[0],D=(T[1],Object(n.useState)("")),k=Object(c.a)(D,2),P=k[0],I=(k[1],Object(n.useState)(e.location.state.selectedDepartRide)),A=Object(c.a)(I,2),R=A[0],B=(A[1],Object(n.useState)("")),F=Object(c.a)(B,2),W=F[0],_=F[1],M=Object(n.useState)(!1),q=Object(c.a)(M,2),J=q[0],Y=q[1],L=Object(n.useState)(e.location.state.seats),Z=Object(c.a)(L,2),H=Z[0],G=(Z[1],Object(n.useState)(S.length-16)),U=Object(c.a)(G,2),z=U[0],V=U[1],Q=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"];return r.a.createElement(p.a,{component:"main",maxWidth:"md"},r.a.createElement(d.a,null),r.a.createElement("div",{className:t.paper},r.a.createElement(_e.a,{theme:Qe},r.a.createElement("div",{style:{marginBottom:"3%"}},r.a.createElement(m.a,{variant:"h5",color:"primary"},"Return"))),r.a.createElement(l.a,{position:"static",color:"default"},r.a.createElement(Me.a,{value:z,onChange:function(e,t){V(t);var a={uid:localStorage.getItem("uid"),originCity:E,destinationCity:b,departDate:S[t][1],selectedDepartTime:R.departDate,roundTrip:!1,timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone,seats:H};fetch("/rides/searchRide",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(e){if(0==e.error_code){var t;try{t=JSON.parse(e.departure_rides)}catch(a){console.error(a)}s(t),console.log("Authenticated")}})).catch((function(e){console.log(e)}))},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"auto","aria-label":"scrollable auto tabs example"},S.map((function(e,t){return r.a.createElement(qe.a,Object.assign({label:e[0]},function(e){return{id:"scrollable-auto-tab-".concat(e),"aria-controls":"scrollable-auto-tabpanel-".concat(e)}}(t)))})))),r.a.createElement("div",{style:{width:"100%"}},S.map((function(e,a){return r.a.createElement(ze,{value:z,index:a},r.a.createElement("div",null,0!=i.length?r.a.createElement("div",null,J?r.a.createElement(y.a,{to:{pathname:"/ridesummary",state:{roundTrip:w,departId:N,returnId:P,originCity:b,destinationCity:E,selectedDepartRide:R,selectedReturnRide:W,seats:H}}}):null,r.a.createElement(p.a,{component:"main",maxWidth:"md",style:{padding:"0 0 0 0"}},r.a.createElement(d.a,null),r.a.createElement($.a,null,i.map((function(e){return r.a.createElement("div",{className:t.card},r.a.createElement(te.a,{button:!0,key:e._id,alignItems:"flex-start"},r.a.createElement(Je.a,{className:t.avatarBlock},r.a.createElement(Ye.a,{alt:"No Image",src:e.avatar,className:t.avatar},e.host.first_name[0]),r.a.createElement(m.a,{variant:"body1",color:"textSecondary"},e.host.first_name)),r.a.createElement(p.a,{maxWidth:"md"},r.a.createElement(ne.a,{key:e._id,onClick:function(){return function(e){console.log(e._id),_(e),Y(!0)}(e)}},r.a.createElement(m.a,{variant:"body1",color:"textSecondary"},"\u29bf ",e.originCity),r.a.createElement(m.a,{variant:"body1",color:"textSecondary"},r.a.createElement("span",null,"\xa0"),"|"),r.a.createElement(m.a,{variant:"body1",color:"textSecondary"},"\u29bf ",e.destinationCity),r.a.createElement(m.a,{variant:"body1",color:"textSecondary"},"Seats Left : ",e.maxCapacity),r.a.createElement(m.a,{variant:"subtitle2",align:"justify",color:"textSecondary"},function(e){var t=e.split("T")[1].split(":"),a=parseInt(t[0])<12?"AM":"PM",n=new Date(e);return n.getDate()+" "+Q[n.getMonth()]+" \u2022 "+t[0]+":"+t[1]+" "+a}(e.departDate)),r.a.createElement(m.a,{variant:"h6",align:"right"},e.pricePerSeat,"$")))))})))," ")):r.a.createElement(m.a,{variant:"h3",color:"textSecondary",align:"center"},"No rides found")))})))))}var Xe=Object(u.a)((function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper},inline:{display:"inline"},avatarBlock:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginRight:e.spacing(3)},avatar:{marginBottom:e.spacing(1),backgroundColor:Le.a[400]},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},card:{width:"100%"},mainContainer:{backgroundColor:e.palette.common.white,boxShadow:"0 1px 6px rgba(0, 0, 0, 0.12), 0 1px 4px rgba(0, 0, 0, 0.24)",display:"flex",flexDirection:"column",alignItems:"center",width:"100%"},priceTag:{paddingRight:e.spacing(5)},submit:{margin:e.spacing(3,0,2)},chatButton:{margin:e.spacing(3,0,2),marginTop:e.spacing(1),marginBottom:e.spacing(1)}}})),et=Object(We.a)({typography:{h5:{fontWeight:500}}}),tt=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"];function at(e){var t=Xe(),a=Object(n.useState)(e.location.state.selectedDepartRide),o=Object(c.a)(a,2),i=o[0],l=(o[1],Object(n.useState)(e.location.state.roundTrip)),s=Object(c.a)(l,2),u=s[0],b=(s[1],Object(n.useState)(e.location.state.selectedReturnRide)),f=Object(c.a)(b,2),h=f[0],E=(f[1],Object(n.useState)(!1)),v=Object(c.a)(E,2),x=v[0],S=v[1],j=Object(n.useState)(!1),C=Object(c.a)(j,2),T=C[0],N=C[1],D=Object(n.useState)(!1),k=Object(c.a)(D,2),P=(k[0],k[1]),I=Object(n.useState)(e.location.state.seats),A=Object(c.a)(I,2),R=A[0],B=(A[1],function(e){Object(w.b)(e)});Object(n.useEffect)((function(){console.log("in Ride summarry useEffect"),console.log(R)}));var F=parseFloat(R)*(parseFloat(i.pricePerSeat)+(u?parseFloat(h.pricePerSeat):0)),W=function(e){var t=e.split("T")[1].split(":"),a=parseInt(t[0])<12?"AM":"PM",n=new Date(e);return n.getDate()+" "+tt[n.getMonth()]+" \u2022 "+t[0]+":"+t[1]+" "+a},_=function(){console.log("handling roundtrip"),Y(departId,q),Y(returnId,J)},M=function(){Y(departId,q)},q=function(e){console.log("handling depart ride response"),0==e.error_code&&(S(!0),u||(console.log("handling depart ride response but not roundTrip"),P(!0)))},J=function(e){console.log("handling return ride response"),0==e.error_code&&N(!0)},Y=function(e,t){console.log("choose ride post"),console.log(e);var a={uid:localStorage.getItem("uid"),rid:e,seats:R};fetch("/rides/chooseride",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(e){0==e.error_code?(console.log(e),t(e)):B(e.msg)})).catch((function(e){B("Unable to request ride. Something has gone wrong"),console.log(e)}))};return r.a.createElement("div",null,!u&&x||u&&x&&T?r.a.createElement(y.a,{to:{pathname:"/rideconfirmed",state:{roundTrip:{roundTrip:u},departSuccess:{departSuccess:x},returnSuccess:{returnSuccess:T}}}}):null,r.a.createElement(w.a,null),r.a.createElement(p.a,{component:"main",maxWidth:"md"},r.a.createElement(d.a,null),r.a.createElement("div",{className:t.paper},r.a.createElement(_e.a,{theme:et},r.a.createElement("div",{style:{marginBottom:"3%"}},r.a.createElement(m.a,{variant:"h5",color:"primary"},"Ride Summary"))),r.a.createElement("div",{className:t.mainContainer},r.a.createElement($.a,{style:{width:"95%"}},r.a.createElement("div",null,r.a.createElement(m.a,{variant:"h6",color:"textSecondary"},"Departure:")),r.a.createElement(G.a,null),r.a.createElement("div",{className:t.card},r.a.createElement(te.a,{key:i._id,alignItems:"flex-start"},r.a.createElement(Je.a,{className:t.avatarBlock},r.a.createElement(Ye.a,{alt:"No Image",src:i.host.avatar,className:t.avatar},i.host.first_name[0]),r.a.createElement(m.a,{variant:"body1",color:"textSecondary"},i.host.first_name),r.a.createElement(_e.a,{theme:et},r.a.createElement(g.a,{variant:"contained",color:"primary",className:t.chatButton,component:he.c,to:{pathname:"/chat",state:{to:i.host.first_name,name:localStorage.getItem("first_name")}}},"Chat"))),r.a.createElement(O.a,{container:!0,spacing:1},r.a.createElement(O.a,{item:!0,xs:!0},r.a.createElement(ne.a,{key:i._id},r.a.createElement(m.a,{variant:"body1",color:"textSecondary"},"\u29bf ",i.originCity),r.a.createElement(m.a,{variant:"body1",color:"textSecondary"},r.a.createElement("span",null,"\xa0"),"|"),r.a.createElement(m.a,{variant:"body1",color:"textSecondary"},"\u29bf ",i.originCity),r.a.createElement(m.a,{variant:"subtitle2",align:"justify",color:"textSecondary"},W(i.departDate)))),r.a.createElement(O.a,{item:!0,md:!0},r.a.createElement(ne.a,null,r.a.createElement(m.a,{variant:"h6",align:"center",color:"textSecondary"},"Price"),r.a.createElement(m.a,{variant:"h6",align:"center",color:"textSecondary"},R*i.pricePerSeat,"$")))))),r.a.createElement("div",null,u?r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(m.a,{variant:"h6",color:"textSecondary"},"Return:")),r.a.createElement(G.a,null),r.a.createElement("div",{className:t.card},r.a.createElement(te.a,{key:h._id,alignItems:"flex-start"},r.a.createElement(Je.a,{className:t.avatarBlock},r.a.createElement(Ye.a,{alt:"No Image",src:h.host.avatar,className:t.avatar},h.host.first_name[0]),r.a.createElement(m.a,{variant:"body1",color:"textSecondary"},h.host.first_name),r.a.createElement(_e.a,{theme:et},r.a.createElement(g.a,{variant:"contained",color:"primary",className:t.chatButton,component:he.c,to:{pathname:"/chat",state:{to:h.host.first_name,name:localStorage.getItem("first_name")}}},"Chat"))),r.a.createElement(O.a,{container:!0,spacing:1},r.a.createElement(O.a,{item:!0,xs:!0},r.a.createElement(ne.a,{key:h._id},r.a.createElement(m.a,{variant:"body1",color:"textSecondary"},"\u29bf ",h.destinationCity),r.a.createElement(m.a,{variant:"body1",color:"textSecondary"},r.a.createElement("span",null,"\xa0"),"|"),r.a.createElement(m.a,{variant:"body1",color:"textSecondary"},"\u29bf ",h.originCity),r.a.createElement(m.a,{variant:"subtitle2",align:"justify",color:"textSecondary"},W(h.departDate)))),r.a.createElement(O.a,{item:!0,md:!0},r.a.createElement(ne.a,null,r.a.createElement(m.a,{variant:"h6",align:"center",color:"textSecondary"},"Price"),r.a.createElement(m.a,{variant:"h6",align:"center",color:"textSecondary"},R*h.pricePerSeat,"$"))))))):null),r.a.createElement(G.a,{style:{marginTop:"5%"}}),r.a.createElement("div",{className:t.card},r.a.createElement(te.a,{key:i._id,alignItems:"flex-start"},r.a.createElement(O.a,{container:!0,direction:"row",justify:"space-between",alignItems:"flex-start"},r.a.createElement(m.a,{variant:"h6",color:"textSecondary"},"Total"),r.a.createElement(m.a,{variant:"h6",color:"textSecondary",className:t.priceTag},F,"$"))))))),r.a.createElement("div",null,r.a.createElement(g.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",backgroundColor:"#62c9f2",className:t.submit,onClick:function(e){console.log("Ride confirmed..."),u?_():M()}},"Confirm"))))}var nt=a(82),rt=a.n(nt),ot=a(169),it=a.n(ot),ct=Object(u.a)((function(e){return{root:{marginTop:e.spacing(5),padding:e.spacing(3,2)},flex:{display:"flex",alignItem:"center"},chatBox:{width:"80%",marginTop:"500px"},button:{margin:e.spacing(1),marginTop:"500px"},dot:{height:"10px",width:"10px",backgroundColor:"green",borderRadius:"50%",display:"inline-block"},chat:{borderBottom:"1px solid rgb(212, 212, 212)"},pink:{color:"#fff",backgroundColor:Le.a[500]}}}));function lt(e){var t=ct(),a=Object(n.useState)(null),o=Object(c.a)(a,2),i=o[0],l=o[1];console.log("called fetchFriends");var s=function(e){var t=new Date(parseInt(e)),a=t.getHours(),n=t.getMinutes(),r=a>=12?"pm":"am",o=(a=(a%=12)||12)+":"+(n=n<10?"0"+n:n)+" "+r;return console.log("Get date is beingcalled"),console.log("type of datemillis = "+typeof e),t.getDate()+"/"+(t.getMonth()+1)+"/"+t.getFullYear()+"\t\t\t\t\t\t"+o};if(Object(n.useEffect)((function(){rt.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("calling fetchFriends"),fetch("/Cars/cars/"+e.location.state.name,{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log("fetch called"+JSON.stringify(e)),l(e)}));case 2:case"end":return t.stop()}}))}),[]),console.log("date = "+Date.now()),null!=i&&0==i.length)return r.a.createElement("div",null,r.a.createElement(Ye.a,{className:t.pink},r.a.createElement(it.a,null)),r.a.createElement("h2",null,"Oops! No Old Chats Found"));var u="";return null!=i&&(u=i.map((function(e){return r.a.createElement(te.a,{alignItems:"flex-start",button:!0,divider:!0,className:t.chat,component:he.c,to:{pathname:"/chat",state:{to:e.friendId,name:e.name}}},r.a.createElement(ne.a,{primary:e.friendId,secondary:r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{component:"span",variant:"body2",className:t.inline,color:"textPrimary"},r.a.createElement("div",{style:{whiteSpace:"pre-wrap",color:"grey"}},"Last message at: ",s(e.msgs[e.msgs.length-1].time))),r.a.createElement("div",null,e.msgs[e.msgs.length-1].from+":"+e.msgs[e.msgs.length-1].message))}))}))),r.a.createElement("div",{className:t.root},u)}var st=a(174),mt=a(170),ut=a.n(mt),dt=Object(u.a)((function(e){return{root:{margin:"50px",padding:e.spacing(3,2)},flex:{display:"flex",alignItem:"center"},chatBox:{width:"80%",marginTop:"500px"},button:{margin:e.spacing(1),marginTop:"500px"},dot:{height:"10px",width:"10px",backgroundColor:"green",borderRadius:"50%",display:"inline-block"}}})),pt=ut()(":3002");function gt(e){var t=Object(n.useState)(""),a=Object(c.a)(t,2),o=a[0],i=(a[1],Object(n.useState)([])),l=Object(c.a)(i,2),s=l[0];l[1];Object(n.useEffect)((function(){!function(t){var a,n,r,i,c;rt.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return[],a="",n="",r="",l.next=6,rt.a.awrap(fetch("Cars/cars/"+e.location.state.name+"/"+t,{method:"GET",headers:{"Content-Type":"application/json"}}));case 6:return i=l.sent,l.next=9,rt.a.awrap(i.json());case 9:if(c=l.sent,console.log("yolo"),console.log(c),0!=c.length){l.next=14;break}return l.abrupt("return");case 14:a=c[0].msgs,Array.from(a).forEach((function(t){n="\n"+t.from+":"+t.message,r=u(t.time);var a=document.createElement("div");a.setAttribute("align","left"),a.innerHTML=n;var o=document.createElement("span");e.location.state.name==t.from?(a.style.border="1px solid blue",o.style.backgroundColor="LIGHTCYAN"):(a.style.border="1px solid green",o.style.backgroundColor="Beige"),o.innerHTML=r,o.style.textAlign="right",o.style.display="block",a.append(o),document.getElementById("chatScreen").append(a)})),pt.on("client-message",(function(e){console.log("client-message received"+e.from+" "+e.msg);var t="\n"+e.from+":"+e.msg,a=u(e.time);console.log("socket.on(client-message) toAdd = "+s),console.log("socket.on(client-message) initial chat = "+o);var n=document.createElement("div");n.setAttribute("align","left"),n.style.border="1px solid green",n.innerHTML=t;var r=document.createElement("span");r.style.backgroundColor="Beige",r.innerHTML=a,r.style.textAlign="right",r.style.display="block",n.append(r),document.getElementById("chatScreen").append(n),console.log("socket.on(client-message) toAdd = "+s)})),pt.emit("new-user",{userName:e.location.state.name});case 18:case"end":return l.stop()}}))}(e.location.state.to)}),[]);var u=function(e){var t=new Date(parseInt(e)),a=t.getHours(),n=t.getMinutes(),r=a>=12?"pm":"am",o=(a=(a%=12)||12)+":"+(n=n<10?"0"+n:n)+" "+r;return console.log("Get date is beingcalled"),t.getDate()+"/"+(t.getMonth()+1)+"/"+t.getFullYear()+", "+o},d=dt(),p=Object(n.useState)(""),b=Object(c.a)(p,2),f=b[0],h=b[1];e.location.state.name;return r.a.createElement("div",null,r.a.createElement(st.a,{className:d.root},r.a.createElement(m.a,{variant:"h4",component:"h4"}),r.a.createElement(m.a,{variant:"h6",component:"h6"},r.a.createElement("span",null),"Chat with ",e.location.state.to),r.a.createElement("div",{id:"chatScreen",style:{textAlign:"left",whiteSpace:"pre-line"}},o),r.a.createElement("div",{className:d.flex},r.a.createElement(S.a,{id:"standard-basic",className:d.chatBox,label:"Type in your message",margin:"normal",value:f,onChange:function(e){return h(e.target.value)}}),r.a.createElement(g.a,{variant:"contained",color:"primary",className:d.button,onClick:function(){var t=Date.now();u(t);!function(e,t,a){if(t){var n="\n"+e+":"+t,r=u(a),o=document.createElement("div");o.setAttribute("align","left"),o.style.border="1px solid blue",o.innerHTML=n;var i=document.createElement("span");i.style.backgroundColor="LIGHTCYAN",i.innerHTML=r,i.style.textAlign="right",i.style.display="block",o.append(i),document.getElementById("chatScreen").append(o)}}(e.location.state.name,f,t),function(t,a){t&&pt.emit("send-chat-message",{from:e.location.state.name,to:e.location.state.to,message:t,messageTime:a})}(f,t),function(t,a,n){a&&fetch("Cars/cars",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e.location.state.name,friendId:e.location.state.to,msgs:{from:t,message:a,time:n}})}).then((function(e){return e.json()})).then((function(e){console.log("insert/save called for data"+e)}))}(e.location.state.name,f,t.toString()),h("")}},"Send"))))}var bt=Object(u.a)((function(e){return{root:{width:"100%"},inline:{display:"inline"},avatarBlock:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginRight:e.spacing(2)},avatar:{marginBottom:e.spacing(1),backgroundColor:Le.a[400]},paper:{display:"flex"},card:{backgroundColor:e.palette.common.white,boxShadow:"0 1px 6px rgba(0, 0, 0, 0.12), 0 1px 4px rgba(0, 0, 0, 0.24)",borderRadius:"15px",marginBottom:e.spacing(2)}}})),ft=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"];function ht(e){var t=bt(),a=Object(n.useState)(e.rides),o=Object(c.a)(a,2),i=o[0];o[1];return r.a.createElement("div",null,0!=i.length?r.a.createElement("div",null,r.a.createElement(p.a,{component:"main",maxWidth:"md",style:{padding:"0 0 0 0"}},r.a.createElement(d.a,null),r.a.createElement($.a,null,i.map((function(e){return r.a.createElement("div",{className:t.card},r.a.createElement(te.a,{key:e._id,alignItems:"flex-start"},r.a.createElement(Je.a,{className:t.avatarBlock},r.a.createElement(Ye.a,{alt:"No Image",src:e.avatar,className:t.avatar},e.host.first_name[0]),r.a.createElement(m.a,{variant:"body1",color:"textSecondary"},e.host.first_name)),r.a.createElement(O.a,{container:!0,spacing:1},r.a.createElement(O.a,{item:!0,xs:!0},r.a.createElement(ne.a,{key:e._id},r.a.createElement(m.a,{variant:"body1",color:"textSecondary"},"\u29bf ",e.originCity),r.a.createElement(m.a,{variant:"body1",color:"textSecondary"},r.a.createElement("span",null,"\xa0"),"|"),r.a.createElement(m.a,{variant:"body1",color:"textSecondary"},"\u29bf ",e.destinationCity),r.a.createElement(m.a,{variant:"body1",color:"textSecondary"},"Seats Left : ",e.maxCapacity),r.a.createElement(m.a,{variant:"subtitle2",align:"justify",color:"textSecondary"},function(e){var t=e.split("T")[1].split(":"),a=parseInt(t[0])<12?"AM":"PM",n=new Date(e);return n.getDate()+" "+ft[n.getMonth()]+" \u2022 "+t[0]+":"+t[1]+" "+a}(e.departDate)))),r.a.createElement(O.a,{item:!0,sm:!0},r.a.createElement(O.a,{container:!0,direction:"column",justify:"space-between",alignItems:"flex-end"},r.a.createElement(O.a,{item:!0,sm:!0},r.a.createElement(m.a,{variant:"h6",align:"right"},e.pricePerSeat,"$")))))))})))," ")):r.a.createElement(m.a,{variant:"h3",color:"textSecondary",align:"center"},"No rides found"))}function Et(e){var t=e.children,a=e.value,n=e.index,o=Object(Fe.a)(e,["children","value","index"]);return r.a.createElement(m.a,Object.assign({component:"div",role:"tabpanel",hidden:a!==n,id:"full-width-tabpanel-".concat(n),"aria-labelledby":"full-width-tab-".concat(n)},o),r.a.createElement(A.a,{p:3},t))}function yt(e){return{id:"full-width-tab-".concat(e),"aria-controls":"full-width-tabpanel-".concat(e)}}var vt=Object(u.a)((function(e){return{root:{backgroundColor:e.palette.background.paper,flexGrow:1,width:"100%"},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"}}}));function xt(e){var t=vt(),a=Object(Z.a)(),n=r.a.useState(0),o=Object(c.a)(n,2),i=o[0],s=o[1],m=r.a.useState(e.location.state.driverRides),u=Object(c.a)(m,2),d=u[0],g=(u[1],r.a.useState(e.location.state.passengerRides)),b=Object(c.a)(g,2),f=b[0];b[1];return r.a.createElement(p.a,{component:"main",maxWidth:"md"},r.a.createElement("div",{className:t.root},r.a.createElement("div",{className:t.paper},r.a.createElement(l.a,{position:"static",color:"default"},r.a.createElement(Me.a,{value:i,onChange:function(e,t){s(t)},indicatorColor:"primary",textColor:"primary",variant:"fullWidth","aria-label":"full width tabs example"},r.a.createElement(qe.a,Object.assign({label:"Rides Posted"},yt(0))),r.a.createElement(qe.a,Object.assign({label:"Rides Taken"},yt(1)))))),r.a.createElement(Et,{value:i,index:0,dir:a.direction},r.a.createElement(ht,{rides:d})),r.a.createElement(Et,{value:i,index:1,dir:a.direction},r.a.createElement(ht,{rides:f}))))}function St(){return r.a.createElement(m.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(j.a,{color:"inherit",href:"/"},"Beem Now")," ",(new Date).getFullYear(),".")}var jt=Object(u.a)((function(e){return{"@global":{body:{backgroundColor:e.palette.common.white}},centerAlign:{display:"flex",flexDirection:"column",alignItems:"center"},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},logo:{textAlign:"center",marginBottom:e.spacing(3)},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function Ot(e){var t=jt(),a=Object(n.useState)(e.location.state.roundTrip),o=Object(c.a)(a,2),i=o[0],l=(o[1],Object(n.useState)(e.location.state.departSuccess)),s=Object(c.a)(l,2),u=(s[0],s[1],Object(n.useState)(e.location.state.returnSuccess)),g=Object(c.a)(u,2);g[0],g[1];return r.a.createElement("div",null,r.a.createElement(w.a,null),r.a.createElement(p.a,{component:"main",maxWidth:"xs"},r.a.createElement(d.a,null),r.a.createElement("div",{className:t.paper},r.a.createElement("div",{className:t.logo},r.a.createElement("img",{src:T.a})),i?r.a.createElement(m.a,{component:"h1",variant:"h5",align:"center"},"Your ride request has been sent succesfully."):r.a.createElement(m.a,{component:"h1",variant:"h5",align:"center"},"Your ride requests have been sent succesfully."),i?r.a.createElement(m.a,{variant:"body2",align:"center",style:{marginTop:"40px"}},"Your request has been succesfully sent to the host. You will recieve a ride confirmation email when the host accepts you ride request."):r.a.createElement(m.a,{variant:"body2",align:"center",style:{marginTop:"40px"}},"Your request has been succesfully sent to the host. You will recieve a ride confirmation emails for your departure ride and your return rides when the hosts accepts you ride request."),r.a.createElement(O.a,{container:!0},r.a.createElement(O.a,{item:!0,xs:12},r.a.createElement(j.a,{href:"/home",variant:"body2",className:t.centerAlign},"Go back to Home page")))),r.a.createElement(A.a,{mt:8},r.a.createElement(St,null))))}function wt(){return r.a.createElement(he.b,null,r.a.createElement("div",null,r.a.createElement("div",{className:"header"},r.a.createElement(ve,null,"...")),r.a.createElement("div",{className:"content"},r.a.createElement(y.b,{exact:!0,path:"/",component:Be}),r.a.createElement(y.b,{path:"/departresults",component:Ue}),r.a.createElement(y.b,{path:"/returnresults",component:Ke}),r.a.createElement(y.b,{path:"/postride",component:Ne}),r.a.createElement(y.b,{path:"/ridesummary",component:at}),r.a.createElement(y.b,{path:"/rideconfirmed",component:Ot}),r.a.createElement(y.b,{path:"/ridehistory",component:xt}),r.a.createElement(y.b,{exact:!0,path:"/friendList",component:lt}),r.a.createElement(y.b,{exact:!0,path:"/chat",component:gt}))))}function Ct(){return r.a.createElement(m.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(j.a,{color:"inherit",href:"/"},"Beem Now")," ",(new Date).getFullYear(),".")}var Tt=Object(u.a)((function(e){return{"@global":{body:{backgroundColor:e.palette.common.white}},centerAlign:{display:"flex",flexDirection:"column",alignItems:"center"},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},logo:{textAlign:"center",marginBottom:e.spacing(3)},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),Nt=function(e){Object(w.b)(e)};function Dt(){var e=Tt(),t=Object(n.useState)(""),a=Object(c.a)(t,2),o=a[0],i=a[1];return r.a.createElement(p.a,{component:"main",maxWidth:"xs"},r.a.createElement(d.a,null),r.a.createElement("div",{className:e.paper},r.a.createElement("div",{className:e.logo},r.a.createElement("img",{src:T.a})),r.a.createElement(m.a,{component:"h1",variant:"h5"},"Forgot Password"),r.a.createElement(m.a,{variant:"body1",style:{marginTop:"60px",marginBottom:"30px"}},"Please enter your registered email ID. We will send you a verification email to reset your password."),r.a.createElement("form",{className:e.form,onSubmit:function(e){e.preventDefault();var t=new FormData(e.target),a={email:t.get("email")};console.log(a),fetch("/users/requestPasswordReset",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(e){console.log(e),Nt("An email has been sent. Please follow the instructions provided in the email to change your password.")})).catch((function(e){console.log(t),Nt("We are unable process your request. Please try again later.")}))},noValidate:!0},r.a.createElement(S.a,{error:""!==o,variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"University Email",name:"email",autoComplete:"email",helperText:o,onChange:function(e){e.target.name,e.target.value;if(""===e.target.value)i("Email Address Required");else{var t=e.target.value,a=/^[a-zA-Z0-9/_/g]+@tamu\.edu$/.test(t);i(a?"":"Not a valid email address")}},autoFocus:!0}),r.a.createElement(g.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},"Submit"),r.a.createElement(O.a,{container:!0},r.a.createElement(O.a,{item:!0,xs:12},r.a.createElement(j.a,{href:"/signin",variant:"body2",className:e.centerAlign},"Sign in here"))))),r.a.createElement(A.a,{mt:8},r.a.createElement(Ct,null)))}var kt=Object(u.a)((function(e){return{"@global":{body:{backgroundColor:e.palette.common.white}},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},logo:{textAlign:"center",marginBottom:e.spacing(3)},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));function Pt(){var e=kt(),t=Object(n.useState)(""),a=Object(c.a)(t,2),o=a[0],i=a[1],l=Object(n.useState)(""),s=Object(c.a)(l,2),u=s[0],b=s[1],f=Object(n.useState)(""),h=Object(c.a)(f,2),E=h[0],v=h[1],x=Object(n.useState)(!1),j=Object(c.a)(x,2),w=j[0],C=j[1],N=Object(n.useState)(props.match.params.token),D=Object(c.a)(N,2),k=D[0];D[1];return r.a.createElement("div",null,w?r.a.createElement(y.a,{to:"/Signin"}):null,r.a.createElement(p.a,{component:"main",maxWidth:"xs"},r.a.createElement(d.a,null),r.a.createElement("div",{className:e.paper},r.a.createElement("div",{className:e.logo},r.a.createElement("img",{src:T.a})),r.a.createElement(m.a,{component:"h1",variant:"h5"},"Reset Password"),r.a.createElement("form",{className:e.form,onSubmit:function(e){e.preventDefault();var t=new FormData(e.target);if(""===t.get("password"))b("Password can not be empty.");else if(""===t.get("confirmPassword"))v("Please confirm your password.");else{b(""),v("");var a={token:k,newPassword:t.get("password"),newPasswordConf:t.get("confirmPassword")};fetch("/users/resetPassword",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(e){console.log(e),0==e.error_code?(console.log(e.user),C(!0)):notify(e.msg)})).catch((function(e){console.log(e),notify(e.msg)}))}},noValidate:!0},r.a.createElement(O.a,{container:!0,spacing:2},r.a.createElement(O.a,{item:!0,xs:12},r.a.createElement(S.a,{error:""!==u,variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"New Password",type:"password",id:"password",autoComplete:"current-password",helperText:u,onChange:function(e){e.target.name;var t=e.target.value;if(i(t),""==e.target.value)b("Password Required");else{var a=e.target.value,n=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d@$!%*#?&]{8,32}$/.test(a);b(n?"":"Password should contain a digit,small letter,capital letter and must be between 8 to 32 characters")}},autoFocus:!0})),r.a.createElement(O.a,{item:!0,xs:12},r.a.createElement(S.a,{error:""!==E,variant:"outlined",required:!0,fullWidth:!0,name:"confirmPassword",label:"Confirm Password",type:"password",id:"confirm-password",autoComplete:"confirm-password",helperText:E,onChange:function(e){e.target.name,e.target.value;var t=e.target.value;v(t===o?"":"Passwords do not match")}}))),r.a.createElement(g.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},"Reset")))))}var It=a(171),At=a.n(It),Rt=function(){return r.a.createElement("div",null,r.a.createElement("img",{src:At.a,style:{width:1e3,height:500,display:"block",margin:"auto",position:"relative"}}),r.a.createElement("center",null,r.a.createElement(he.c,{to:"/"},"Return to Home Page")))};function Bt(){return r.a.createElement(m.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(j.a,{color:"inherit",href:"/"},"Beem Now")," ",(new Date).getFullYear(),".")}var Ft=Object(u.a)((function(e){return{"@global":{body:{backgroundColor:e.palette.common.white}},centerAlign:{display:"flex",flexDirection:"column",alignItems:"center"},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},logo:{textAlign:"center",marginBottom:e.spacing(3)},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function Wt(e){var t=Ft(),a=Object(n.useState)(""),o=Object(c.a)(a,2),i=(o[0],o[1],Object(n.useState)(e.match.params.token,"")),l=Object(c.a)(i,2),s=l[0],u=(l[1],Object(n.useState)("Verifying your account")),b=Object(c.a)(u,2),f=b[0],h=b[1],E=Object(n.useState)(!1),y=Object(c.a)(E,2),v=y[0],x=y[1];return Object(n.useEffect)((function(){console.log("in component did mount"),fetch("/users/confirmation?token="+s).then((function(e){return e.json()})).then((function(e){console.log(e),h("Account Verified"),x(!0)})).catch((function(e){console.log(e),h("unable to verify your account. Please resend and email and verifiy again."),x(!1)}))})),r.a.createElement(p.a,{component:"main",maxWidth:"xs"},r.a.createElement(d.a,null),r.a.createElement("div",{className:t.paper},r.a.createElement("div",{className:t.logo},r.a.createElement("img",{src:T.a})),r.a.createElement(m.a,{component:"h1",variant:"h5",align:"center"},f),v?r.a.createElement("div",null,r.a.createElement(m.a,{variant:"body1",align:"center",style:{marginTop:"60px"}},"Your account has been verified. Now you can login"),r.a.createElement("form",{className:t.form,onSubmit:function(e){e.preventDefault(),console.log("openstripe")}},r.a.createElement(m.a,{variant:"body2",align:"center",style:{marginTop:"40px"}},"Before continuing to login, please take a minute to connect your payments profile via stripe."),r.a.createElement(g.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit},"Connect to Stripe"),r.a.createElement(O.a,{container:!0},r.a.createElement(O.a,{item:!0,xs:12},r.a.createElement(j.a,{href:"/signin",variant:"body2",className:t.centerAlign},"Go back to sign in page"))))):null),r.a.createElement(A.a,{mt:8},r.a.createElement(Bt,null)))}function _t(){return r.a.createElement(m.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(j.a,{color:"inherit",href:"/"},"Beem Now")," ",(new Date).getFullYear(),".")}var Mt=Object(u.a)((function(e){return{"@global":{body:{backgroundColor:e.palette.common.white}},centerAlign:{display:"flex",flexDirection:"column",alignItems:"center"},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},logo:{textAlign:"center",marginBottom:e.spacing(3)},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function qt(e){var t=Mt(),a=Object(n.useState)(""),o=Object(c.a)(a,2),i=o[0],l=o[1],s=Object(n.useState)(""),u=Object(c.a)(s,2),b=u[0],f=u[1],h=Object(n.useState)(""),E=Object(c.a)(h,2),v=E[0],x=E[1],C=Object(n.useState)(e.match.params.token,""),N=Object(c.a)(C,2),D=N[0],k=(N[1],Object(n.useState)(!1)),P=Object(c.a)(k,2),I=P[0],R=P[1];return r.a.createElement("div",null,I?r.a.createElement(y.a,{to:{pathname:"/signin"}}):null,r.a.createElement(w.a,null),r.a.createElement(p.a,{component:"main",maxWidth:"xs"},r.a.createElement(d.a,null),r.a.createElement("div",{className:t.paper},r.a.createElement("div",{className:t.logo},r.a.createElement("img",{src:T.a})),r.a.createElement("form",{className:t.form,onSubmit:function(e){e.preventDefault();var t=new FormData(e.target);if(function(e){var t=!0;return""===e.get("password")&&(f("Password is required"),t=!1),e.get("confirmPassword")!==e.get("password")&&(x("Passwords do not match"),t=!1),t}(t)){var a={token:D,newPassword:t.get("password"),newPasswordConf:t.get("password")};fetch("/users/resetPassword",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(e){console.log(e),R(e.passwordUpdated)})).catch((function(e){var t;t="unable to process your request. Please try again later.",Object(w.b)(t),console.log(e)}))}}},r.a.createElement(m.a,{component:"h1",variant:"h5",align:"center"},"Please enter your New password"),r.a.createElement(O.a,{item:!0,xs:12},r.a.createElement(S.a,{error:""!==b,variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",helperText:b,onChange:function(e){e.target.name;var t=e.target.value;if(l(t),""===e.target.value)f("Password Required");else{var a=e.target.value,n=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d@$!%*#?&]{8,32}$/.test(a);f(n?"":"Password shoud contain a digit,small letter,capital letter and must be between 8 to 32 characters")}}})),r.a.createElement(O.a,{item:!0,xs:12},r.a.createElement(S.a,{error:""!==v,variant:"outlined",required:!0,fullWidth:!0,name:"confirmPassword",label:"Confirm Password",type:"password",id:"confirm-password",autoComplete:"confirm-password",helperText:v,onChange:function(e){e.target.name,e.target.value;var t=e.target.value;x(t===i?"":"Passwords do not match")}})),r.a.createElement(g.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit},"Reset Password"),r.a.createElement(O.a,{container:!0},r.a.createElement(O.a,{item:!0,xs:12},r.a.createElement(j.a,{href:"/signin",variant:"body2",className:t.centerAlign},"Go back to sign in page"))))),r.a.createElement(A.a,{mt:8},r.a.createElement(_t,null))))}function Jt(){return r.a.createElement(m.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(j.a,{color:"inherit",href:"https://material-ui.com/"},"Beem Now")," ",(new Date).getFullYear(),".")}var Yt=Object(u.a)((function(e){return{"@global":{body:{backgroundColor:e.palette.common.white}},centerAlign:{display:"flex",flexDirection:"column",alignItems:"center"},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},logo:{textAlign:"center",marginBottom:e.spacing(3)},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function Lt(){var e=Yt();return r.a.createElement(p.a,{component:"main",maxWidth:"sm"},r.a.createElement(d.a,null),r.a.createElement("div",{className:e.paper},r.a.createElement("div",{className:e.logo},r.a.createElement("img",{src:T.a})),r.a.createElement(m.a,{component:"h1",variant:"h5"},"Terms of service"),r.a.createElement(m.a,{variant:"body1",style:{marginTop:"60px",marginBottom:"30px",textAlign:"justify"}},"Last updated: November 11, 2019 ",r.a.createElement("br",null),r.a.createElement("br",null),'Please read these Terms and Conditions ("Terms", "Terms and Conditions") carefully before using the beem-now.com website (the "Service") operated by Beem Now ("us", "we", or "our"). Your access to and use of the Service is conditioned on your acceptance of and compliance with these Terms. These Terms apply to all visitors, users and others who access or use the Service. By accessing or using the Service you agree to be bound by these Terms. If you disagree with any part of the terms then you may not access the Service.')),r.a.createElement(A.a,{mt:8},r.a.createElement(Jt,null)))}var Zt=a(6),Ht=a(307),$t=a(308),Gt=a(309),Ut=a(310),zt=a(306),Vt=a(109);function Qt(){return r.a.createElement(m.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(j.a,{color:"inherit",href:"/"},"Beem Now")," ",(new Date).getFullYear(),".")}var Kt=Object(Zt.a)((function(e){return{root:{color:e.palette.getContrastText(zt.a[700]),backgroundColor:zt.a[700],"&:hover":{backgroundColor:zt.a[900]},marginLeft:50,marginRight:50}}}))(g.a),Xt=Object(Zt.a)((function(e){return{root:{color:e.palette.getContrastText(Vt.a[700]),backgroundColor:Vt.a[700],"&:hover":{backgroundColor:Vt.a[900]},marginLeft:50,marginRight:50}}}))(g.a),ea=Object(u.a)((function(e){return{card:{maxWidth:400,display:"flex",flexDirection:"column",alignItems:"center"},centerAlign:{display:"flex",flexDirection:"column",alignItems:"center"},logo:{textAlign:"center",marginBottom:e.spacing(3)},media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:Vt.a[500]}}}));function ta(){var e=ea(),t=Object(n.useState)(""),a=Object(c.a)(t,2),o=a[0],i=(a[1],Object(n.useState)("")),l=Object(c.a)(i,2),s=l[0],u=(l[1],Object(n.useState)("")),d=Object(c.a)(u,2),p=d[0],g=(d[1],Object(n.useState)("")),b=Object(c.a)(g,2),f=b[0];b[1];return r.a.createElement("div",{className:e.centerAlign},r.a.createElement(Ht.a,{className:e.card},r.a.createElement($t.a,{title:"Someone wants to ride with you"}),r.a.createElement(Gt.a,null,r.a.createElement("div",{className:e.logo},r.a.createElement("img",{src:T.a})),r.a.createElement(m.a,{variant:"body2",color:"textSecondary",component:"p"},o," Wants to ride with you on ",s," from ",p," to ",f,".")),r.a.createElement(Ut.a,{disableSpacing:!0},r.a.createElement(O.a,{container:!0,alignContent:"flex-end",justify:"flex-end"},r.a.createElement(O.a,{item:!0,xs:!0},r.a.createElement(Kt,{size:"small",variant:"contained",color:"primary",className:e.margin},"ACCEPT")),r.a.createElement(O.a,{item:!0},r.a.createElement(Xt,{size:"small",variant:"contained",color:"primary",className:e.margin},"REJECT")))),r.a.createElement(Gt.a,null,r.a.createElement("div",null,r.a.createElement(Qt,null)))))}var aa=function(e){return r.a.createElement(y.d,null,r.a.createElement(y.b,{exact:!0,path:"/",component:x}),r.a.createElement(y.b,{exact:!0,path:"/signin",component:k}),r.a.createElement(y.b,{exact:!0,path:"/resendToken",component:J}),r.a.createElement(y.b,{exact:!0,path:"/forgotpassword",component:Dt}),r.a.createElement(y.b,{exact:!0,path:"/resetpassword",component:Pt}),r.a.createElement(y.b,{exact:!0,path:"/termsofservice",component:Lt}),r.a.createElement(y.b,{exact:!0,path:"/home",component:wt}),r.a.createElement(y.b,{exact:!0,path:"/signup",component:_}),r.a.createElement(y.b,{exact:!0,path:"/verifyaccount",component:Wt}),r.a.createElement(y.b,{exact:!0,path:"/resetpassword",component:qt}),r.a.createElement(y.b,{exact:!0,path:"/verifyaccount/:token",component:Wt}),r.a.createElement(y.b,{exact:!0,path:"/resetpassword/:token",component:qt}),r.a.createElement(y.b,{exact:!0,path:"/confirmride",component:ta}),"/* add 404 page */",r.a.createElement(y.b,{path:"*",component:Rt}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(he.a,null,r.a.createElement(aa,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[188,1,2]]]);
//# sourceMappingURL=main.1e55d779.chunk.js.map